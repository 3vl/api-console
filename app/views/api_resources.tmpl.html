<div id="raml-console-api-reference" role="resources">
  <div collapsible role="resource-group" class="resource-group" ng-repeat="resourceGroup in api.resourceGroups">
    <h1 collapsible-toggle class='path'>
      {{resourceGroup[0].pathSegments[0].toString()}}
      <i ng-class="{'icon-caret-right': collapsed, 'icon-caret-down': !collapsed}"></i>
    </h1>

    <div ng-class="{expanded: resource.isOpen, collapsed: !resource.isOpen}"
         collapsible-content class='resource' role="resource"
         ng-repeat="resource in resourceGroup">

      <resource-summary class='accordion-toggle' ng-click='resource.isOpen = !resource.isOpen'></resource-summary>
      <div ng-if='resource.isOpen'>
        <div>
          <div role='description'
               class='description'
               ng-if='resource.description'
               markdown='resource.description'>
          </div>
          <div class='accordion' role="methods">
            <method ng-repeat="method in resource.methods"></method>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
