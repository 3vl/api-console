<section role='documentation'>
  <p ng-show="method.description">Description: {{method.description}}</p>

  <tabset>
    <tab role='documentation-parameters' heading="Parameters" disabled="!documentation.hasParameterDocumentation">
      <parameter-table heading='Headers' role='headers' parameters='method.headers'></parameter-table>
      <parameter-table heading='URI Parameters' role='uri-parameters' parameters='resource.uriParameters'></parameter-table>
      <parameter-table heading='Query Parameters' role='query-parameters' parameters='method.queryParameters'></parameter-table>
      <parameter-table heading='Form Parameters' role='form-parameters' parameters='method.body["application/x-www-form-urlencoded"].formParameters'></parameter-table>
      <parameter-table heading='Multipart Form Parameters' role='multipart-form-parameters' parameters='method.body["multipart/form-data"].formParameters'></parameter-table>

    </tab>
    <tab role='documentation-requests' heading="Requests" active='documentation.requestsActive' disabled="!documentation.hasRequestDocumentation">
      <section ng-repeat="(mediaType, definition) in method.body track by mediaType">
        <h4>{{mediaType}}</h4>
        <section ng-if="definition.schema">
          <h5>Schema</h5>
          <div class="code" code-mirror="definition.schema" mode="{{mediaType}}" visible="methodView.expanded && documentation.requestsActive"></div>
        </section>
        <section ng-if="definition.example">
          <h5>Example</h5>
          <div class="code" code-mirror="definition.example" mode="{{mediaType}}" visible="methodView.expanded && documentation.requestsActive"></div>
        </section>
      </section>
    </tab>
    <tab role='documentation-responses' heading="Responses" active='documentation.responsesActive' disabled='!documentation.hasResponseDocumentation'>
      <section collapsible ng-repeat='(responseCode, response) in method.responses'>
        <h4 collapsible-toggle>
          <i ng-class="{'icon-caret-right': collapsed, 'icon-caret-down': !collapsed}"></i>
          {{responseCode}}
        </h4>
        <div collapsible-content>
          <section role='response'>
            <p markdown='response.description'></p>
            <section ng-repeat="(mediaType, definition) in response.body track by mediaType">
              <h5>{{mediaType}}</h5>
              <section ng-if="definition.schema">
                <h6>Schema</h6>
                <div class="code" mode='{{mediaType}}' code-mirror="definition.schema" visible="methodView.expanded && documentation.responsesActive"></div>
              </section>
              <section ng-if="definition.example">
                <h6>Example</h6>
                <div class="code" mode='{{mediaType}}' code-mirror="definition.example" visible="methodView.expanded && documentation.responsesActive"></div>
              </section>
            </section>
          </section>
        </div>
      </section>
    </tab>
    <tab role="try-it" heading="Try It" active="documentation.tryItActive" disabled="!api.baseUri">
      <try-it></try-it>
    </tab>
  </tabset>
</section>
