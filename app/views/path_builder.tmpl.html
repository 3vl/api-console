<span role="path" class="path">
  <span clsas="segment">
    <span ng-repeat='token in api.baseUri.tokens track by $index'>
      <validated-input ng-if='api.baseUri.parameters[token]'
                        name="{{token}}"
                        bind-to="pathBuilder.baseUriContext"
                        placeholder="{{token}}"
                        constraints="api.baseUri.parameters[token]"
                        invalid-class="error">
      </validated-input>
      <span class="segment" ng-if="!api.baseUri.parameters[token]">{{token}}</span>
    </span>
  <span role='segment' ng-repeat='segment in resource.pathSegments' ng-init="$segmentIndex = $index">
    <span ng-repeat='token in segment.tokens track by $index'>
      <validated-input ng-if='segment.parameters[token]'
                        name="{{token}}"
                        bind-to="pathBuilder.segmentContexts[$segmentIndex]"
                        placeholder="{{token}}"
                        constraints="segment.parameters[token]"
                        invalid-class="error">
      </validated-input>
      <span class="segment" ng-if="!segment.parameters[token]">{{token}}</span>
    </span>
  </span>
</span>
