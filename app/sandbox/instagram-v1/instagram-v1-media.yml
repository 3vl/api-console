%TAG ! tag:raml.org,0.1:
---
name: Media
use: [ secured: { method: get } ]
uriParameters:
  mediaId:
    name: Media ID
    type: integer
get:
  summary: Get information about a media object.
  responses:
    200:
      body:
        application/json:
          example: !include http://localhost:9001/app/sandbox/instagram-v1/examples/instagram-v1-media-example.json
/comments:
  name: Comments
  use: 
    - paged
    - secured: { method: post }
    - rateLimited: { method: get }
    - rateLimited: { method: post }
  get:
    summary: Get a full list of comments on a media.
    responses:
      200:
        body:
          application/json:
            example: !include http://localhost:9001/app/sandbox/instagram-v1/examples/instagram-v1-media-comment-example.json
  post:
    summary: Create a comment on a media. Please email apidevelopers[at]instagram.com for access.
    query:
      text:
        description: Text to post as a comment on the media as specified in {mediaId}.
        type: string
        required: yes
  /{commentId}:
    name: Comment
    use:
      - secured: { method: delete } 
      - rateLimited: { method: delete }
    uriParameters:
      commentId:
        type: integer
        description: Idenifier of the comment
    delete:
      summary: |
        Remove a comment either on the authenticated user's media or authored by the authenticated user.
/likes:
  name: Likes
  use: 
    - secured: { method: get }
    - paged
    - secured: { method: post }
    - secured: { method: delete }
    - rateLimited: { method: get }
    - rateLimited: { method: post }
    - rateLimited: { method: delete }
  get:
    summary: Get a list of users who have liked this media.
    responses:
      200:
        body:
          application/json:
            example: !include http://localhost:9001/app/sandbox/instagram-v1/examples/instagram-v1-media-likes-example.json
  post:
    summary: Set a like on this media by the currently authenticated user.
    responses:
      201:
        description: |
           Successfully liked a media object
  delete:
    summary: Remove a like on this media by the currently authenticated user.
    responses:
      204:
        description: |
          Like removed succesfully